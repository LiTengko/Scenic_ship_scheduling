

Copyright &copy; 2023，Li Tengko [<img src="https://cdn.jsdelivr.net/gh/LiTengko/Picgo_Pictures@main/img/GitHub-Mark.png" alt="GitHub" width="30"/>](https://github.com/LiTengko/MIP_solver)

# 直接模型求解

> `price_1` `price_2` 分别对应一票制、两部制


## data1

### 11:11 price_2

#### 参数

```
# 指定系数
P_all_a = 80  # 一票制票价
P_all_b = 50  # 两部制票价
pm = gb.tupledict({1: 10, 2: 15, 3: 10, 4: 15, 5: 10, 6: 15, 7: 10})  # 两部制下各景点票价
c1 = 3   # 票价系数c1
c2 = 1   # 固定成本系数c2
c3 = 2   # 行驶成本系数c3
c4 = 1   # 等待成本系数c4

M = 100000  # 大整数
e = 1  # 小整数

TE = 570  # 设置最晚入园时间为16:30,计算与7：00的差值为570 min  注意！设置TE时应小于游客入园时间TE
```



```
C:\ProgramData\Anaconda3\envs\MIP\python.exe C:/Users/DKLi/OneDrive/Desktop/MIP_solver/test.py
Set parameter Username
Academic license - for non-commercial use only - expires 2024-04-04
Read MPS format model from file ./data/price_2_small_c4_1.MPS
Reading time = 0.04 seconds
test1: 4157 rows, 4635 columns, 51941 nonzeros
Set parameter TimeLimit to value 7200
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (win64)

CPU model: AMD Ryzen 9 4900HS with Radeon Graphics, instruction set [SSE2|AVX|AVX2]
Thread count: 8 physical cores, 16 logical processors, using up to 16 threads

Optimize a model with 4157 rows, 4635 columns and 51941 nonzeros
Model fingerprint: 0xe4568992
Model has 32 quadratic objective terms
Variable types: 0 continuous, 4635 integer (4525 binary)
Coefficient statistics:
  Matrix range     [1e+00, 2e+05]
  Objective range  [1e+00, 3e+02]
  QObjective range [2e+00, 2e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 2e+05]
Presolve removed 399 rows and 1925 columns
Presolve time: 0.10s
Presolved: 3788 rows, 2740 columns, 30359 nonzeros
Variable types: 0 continuous, 2740 integer (2613 binary)

Root relaxation: objective 7.631454e+05, 4891 iterations, 0.40 seconds (0.83 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 763145.390    0  296          - 763145.390      -     -    0s
     0     0 13705.2809    0  376          - 13705.2809      -     -    1s
     0     0 13705.2798    0  366          - 13705.2798      -     -    1s
     0     0 13704.3661    0  400          - 13704.3661      -     -    2s
     0     0 13704.3661    0  364          - 13704.3661      -     -    2s
     0     0 13693.0590    0  404          - 13693.0590      -     -    2s
     0     0 13693.0590    0  364          - 13693.0590      -     -    3s
     0     0 13693.0590    0  448          - 13693.0590      -     -    4s
     0     0 13693.0590    0  408          - 13693.0590      -     -    4s
     0     2 13693.0590    0  399          - 13693.0590      -     -    5s
    56    68 11086.1387    8  335          - 12421.0096      -   918   10s
   179   196 6931.60341   17  231          - 12421.0096      -   695   15s
...
 29883 18082 5834.54571   45  421 5768.00000 7257.00730  25.8%   414 1546s
 29885 18083 7257.00730   33  396 5768.00000 7257.00730  25.8%   413 1558s
 29886 18084 6016.29098   55  476 5768.00000 7257.00730  25.8%   413 1562s
 29887 18084 6394.84283  106  427 5768.00000 7257.00730  25.8%   413 1565s
 29889 18086 5926.48655   43  427 5768.00000 7257.00730  25.8%   413 1578s
 29890 18089 7255.02268   23  414 5768.00000 7257.00730  25.8%   418 1581s
 29896 18099 7231.36978   25  460 5768.00000 7254.41271  25.8%   419 1587s
 29904 18105 7196.48252   26  390 5768.00000 7246.43945  25.6%   420 1591s
 29920 18115 6849.13801   27  374 5768.00000 7246.43945  25.6%   421 1598s
 29936 18128 6849.57133   28  228 5768.00000 7246.43945  25.6%   422 1600s
...
 
 392478 266065 5956.57365   84  205 5903.00001 6808.40026  15.3%   160 7115s
 393261 268189 5938.00000   54   74 5903.00001 6808.33333  15.3%   160 7138s
 396299 268536 6587.84299   50  171 5903.00001 6808.10688  15.3%   160 7150s
 396765 268764 6694.84415   36  357 5903.00001 6808.10688  15.3%   160 7168s
 397065 269089 infeasible   48      5903.00001 6808.09452  15.3%   160 7184s
 397621 270260 6760.29630   37  184 5903.00001 6808.08650  15.3%   160 7198s
 399120 270280 6426.31583   53  137 5903.00001 6808.04872  15.3%   160 7200s

Cutting planes:
  Learned: 60
  Gomory: 10
  Cover: 1227
  Implied bound: 138
  Projected implied bound: 36
  Clique: 105
  MIR: 366
  StrongCG: 45
  Flow cover: 1523
  GUB cover: 2
  Inf proof: 4
  Zero half: 184
  Mod-K: 10
  RLT: 57
  Relax-and-lift: 51

Explored 399150 nodes (63767650 simplex iterations) in 7200.10 seconds (6142.47 work units)
Thread count was 16 (of 16 available processors)

Solution count 10: 5903 5903 5903 ... 5666

Time limit reached
Best objective 5.903000000000e+03, best bound 6.808048717580e+03, gap 15.3320%
x[1,0,3,3,1]: 1.0
x[1,2,4,3,3]: 1.0
x[1,3,2,3,2]: 1.0
x[1,4,0,3,4]: 1.0
x[2,0,3,2,1]: 1.0
x[2,1,4,2,4]: 1.0
x[2,2,1,2,3]: 1.0
x[2,3,2,2,2]: 1.0
x[2,4,0,2,5]: 1.0
x[3,0,3,3,1]: 1.0
x[3,1,4,2,4]: 1.0
x[3,2,1,2,3]: 1.0
x[3,3,2,3,2]: 1.0
x[3,4,0,2,5]: 1.0
x[4,0,3,2,1]: 1.0
x[4,1,4,2,4]: 1.0
x[4,2,1,2,3]: 1.0
x[4,3,2,2,2]: 1.0
x[4,4,0,2,5]: 1.0
x[5,0,3,1,1]: 1.0
x[5,3,0,1,2]: 1.0
y[0,3,1,1]: 1.0
y[0,3,2,1]: 1.0
y[0,3,3,1]: 1.0
y[1,4,2,4]: 1.0
y[2,1,2,3]: 1.0
y[2,4,3,3]: 1.0
y[3,0,1,2]: 1.0
y[3,2,2,2]: 1.0
y[3,2,3,2]: 1.0
y[4,0,2,5]: 1.0
y[4,0,3,4]: 1.0
L[1,4]: 1.0
L[2,4]: 1.0
L[3,4]: 1.0
L[4,4]: 1.0
L[5,3]: 1.0
z_GA[1,2]: 345.0
z_GA[1,3]: 278.0
z_GA[1,4]: 569.0
z_GA[2,1]: 497.0
z_GA[2,2]: 231.0
z_GA[2,3]: 167.0
z_GA[2,4]: 569.0
z_GA[3,1]: 497.0
z_GA[3,2]: 345.0
z_GA[3,3]: 278.0
z_GA[3,4]: 569.0
z_GA[4,1]: 497.0
z_GA[4,2]: 231.0
z_GA[4,3]: 167.0
z_GA[4,4]: 569.0
z_GA[5,3]: 569.0
z_GD[1,0]: 257.0
z_GD[1,2]: 546.0
z_GD[1,3]: 315.0
z_GD[1,4]: 585.0
z_GD[2,0]: 146.0
z_GD[2,1]: 550.0
z_GD[2,2]: 472.0
z_GD[2,3]: 201.0
z_GD[2,4]: 100127.0
z_GD[3,0]: 257.0
z_GD[3,1]: 550.0
z_GD[3,2]: 472.0
z_GD[3,3]: 315.0
z_GD[3,4]: 100127.0
z_GD[4,0]: 146.0
z_GD[4,1]: 550.0
z_GD[4,2]: 472.0
z_GD[4,3]: 201.0
z_GD[4,4]: 100127.0
z_GD[5,0]: 548.0
z_GD[5,3]: 618.0
z_BF[1,1]: 569.0
z_BF[1,2]: 167.0
z_BF[1,3]: 278.0
z_BF[2,1]: 639.0
z_BF[2,2]: 231.0
z_BF[2,3]: 345.0
z_BF[3,1]: 639.0
z_BF[3,2]: 497.0
z_BF[3,3]: 569.0
z_BF[4,1]: 639.0
z_BF[4,2]: 569.0
z_BF[4,3]: 604.0
z_BF[5,1]: 639.0
z_BF[5,2]: 100146.0
z_BF[5,3]: 99716.0
z_BF[6,1]: 639.0
z_BF[6,2]: 100146.0
z_BF[6,3]: 99716.0
z_BF[7,1]: 639.0
z_BF[7,2]: 100146.0
z_BF[7,3]: 99716.0
z_BF[8,1]: 639.0
z_BF[8,2]: 100146.0
z_BF[8,3]: 99716.0
z_BF[9,1]: 639.0
z_BF[9,2]: 100146.0
z_BF[9,3]: 99716.0
z_BF[10,1]: 639.0
z_BF[10,2]: 100146.0
z_BF[10,3]: 99716.0
z_BS[1,1]: 548.0
z_BS[1,2]: 146.0
z_BS[1,3]: 257.0
z_BS[2,1]: 618.0
z_BS[2,2]: 201.0
z_BS[2,3]: 315.0
z_BS[3,1]: 639.0
z_BS[3,2]: 472.0
z_BS[3,3]: 546.0
z_BS[4,1]: 639.0
z_BS[4,2]: 550.0
z_BS[4,3]: 585.0
z_BS[5,1]: 639.0
z_BS[5,2]: 100127.0
z_BS[5,3]: 99716.0
z_BS[6,1]: 639.0
z_BS[6,2]: 100146.0
z_BS[6,3]: 99716.0
z_BS[7,1]: 639.0
z_BS[7,2]: 100146.0
z_BS[7,3]: 99716.0
z_BS[8,1]: 639.0
z_BS[8,2]: 100146.0
z_BS[8,3]: 99716.0
z_BS[9,1]: 639.0
z_BS[9,2]: 100146.0
z_BS[9,3]: 99716.0
z_BS[10,1]: 639.0
z_BS[10,2]: 100146.0
z_BS[10,3]: 99716.0

进程已结束,退出代码0

```

### 11:23 price_1

#### 参数

```
# 指定系数
P_all_a = 80  # 一票制票价
P_all_b = 50  # 两部制票价
pm = gb.tupledict({1: 10, 2: 15, 3: 10, 4: 15, 5: 10, 6: 15, 7: 10})  # 两部制下各景点票价
c1 = 3   # 票价系数c1
c2 = 1   # 固定成本系数c2
c3 = 2   # 行驶成本系数c3
c4 = 1   # 等待成本系数c4

M = 100000  # 大整数
e = 1  # 小整数

TE = 570  # 设置最晚入园时间为16:30,计算与7：00的差值为570 min  注意！设置TE时应小于游客入园时间TE
```

```
C:\ProgramData\Anaconda3\envs\MIP\python.exe C:/Users/DKLi/OneDrive/Desktop/MIP_solver/model_solve.py
Set parameter Username
Academic license - for non-commercial use only - expires 2024-04-04
Read MPS format model from file ./data/price_1_small_c4_1.MPS
Reading time = 0.04 seconds
test1: 4157 rows, 4635 columns, 51941 nonzeros
Set parameter TimeLimit to value 7200
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (win64)

CPU model: AMD Ryzen 9 4900HS with Radeon Graphics, instruction set [SSE2|AVX|AVX2]
Thread count: 8 physical cores, 16 logical processors, using up to 16 threads

Optimize a model with 4157 rows, 4635 columns and 51941 nonzeros
Model fingerprint: 0xbd6750a6
Model has 32 quadratic objective terms
Variable types: 0 continuous, 4635 integer (4525 binary)
Coefficient statistics:
  Matrix range     [1e+00, 2e+05]
  Objective range  [1e+00, 6e+01]
  QObjective range [2e+00, 2e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 2e+05]
Presolve removed 399 rows and 1925 columns
Presolve time: 0.07s
Presolved: 3788 rows, 2740 columns, 30359 nonzeros
Variable types: 0 continuous, 2740 integer (2613 binary)

Root relaxation: objective 7.629609e+05, 4464 iterations, 0.34 seconds (0.67 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 762960.908    0  263          - 762960.908      -     -    0s
     0     0 12955.2809    0  384          - 12955.2809      -     -    1s
     0     0 12955.2798    0  378          - 12955.2798      -     -    1s
     0     0 12944.1477    0  381          - 12944.1477      -     -    1s
     0     0 12943.0590    0  374          - 12943.0590      -     -    2s
     0     0 12928.6438    0  420          - 12928.6438      -     -    2s
     0     0 12928.6438    0  429          - 12928.6438      -     -    2s
     0     0 12928.6438    0  385          - 12928.6438      -     -    3s
H    0     0                    4395.0000000 12928.6438   194%     -    3s
     0     0 12928.6438    0  352 4395.00000 12928.6438   194%     -    3s
H    0     0                    4411.0000000 12928.6438   193%     -    4s
H    0     2                    4576.0000000 12928.6438   183%     -    4s
     0     2 12928.6438    0  349 4576.00000 12928.6438   183%     -    4s
     3     8 11725.6167    2  358 4576.00000 12884.4196   182%  1219    5s

...

 743348 487194 5804.97355  100  118 5156.00000 6250.90960  21.2%  90.7 7138s
 743678 487793 5698.76450   52   58 5156.00000 6250.86953  21.2%  90.7 7142s
 744734 488221 5171.53760   66  100 5156.00000 6250.77558  21.2%  90.7 7147s
 745344 489119 5438.50000  138   95 5156.00000 6250.76274  21.2%  90.7 7152s
 746628 489416 6143.31586   88  228 5156.00000 6250.70526  21.2%  90.7 7157s
 747107 490555 6037.29029  117  104 5156.00000 6250.64286  21.2%  90.7 7163s
 748796 490819 6166.96253   47   76 5156.00000 6250.57143  21.2%  90.6 7167s
 749147 491750 6158.76268   49   78 5156.00000 6250.55951  21.2%  90.6 7171s
 750405 491998 6041.24403   80   99 5156.00000 6250.49341  21.2%  90.6 7175s
 751694 492820 5968.86564   59  132 5156.00000 6250.38407  21.2%  90.6 7183s
 751874 493024 5627.97520   77   45 5156.00000 6250.36818  21.2%  90.6 7186s
 752188 494297 5956.96096   78   55 5156.00000 6250.35185  21.2%  90.7 7191s
 753722 494476 5320.90327  124   93 5156.00000 6250.29937  21.2%  90.6 7196s
 754073 494807 6128.99327   86   92 5156.00000 6250.29079  21.2%  90.6 7200s

Cutting planes:
  Learned: 8
  Gomory: 18
  Cover: 982
  Implied bound: 115
  Projected implied bound: 73
  Clique: 49
  MIR: 107
  StrongCG: 2
  Flow cover: 1096
  Inf proof: 1
  Zero half: 139
  Mod-K: 14
  RLT: 25
  Relax-and-lift: 36

Explored 754768 nodes (68403037 simplex iterations) in 7200.15 seconds (5885.24 work units)
Thread count was 16 (of 16 available processors)

Solution count 10: 5156 5153 5097 ... 4902

Time limit reached
Best objective 5.156000000000e+03, best bound 6.250239382248e+03, gap 21.2226%
x[1,0,3,2,1]: 1.0
x[1,2,4,2,3]: 1.0
x[1,3,2,2,2]: 1.0
x[1,4,0,1,4]: 1.0
x[2,0,2,1,1]: 1.0
x[2,1,4,1,3]: 1.0
x[2,2,1,1,2]: 1.0
x[2,4,0,1,4]: 1.0
x[3,0,3,2,1]: 1.0
x[3,1,4,1,3]: 1.0
x[3,2,1,1,2]: 1.0
x[3,3,2,2,2]: 1.0
x[3,4,0,2,4]: 1.0
x[4,0,3,2,1]: 1.0
x[4,1,4,1,3]: 1.0
x[4,2,1,1,2]: 1.0
x[4,3,2,2,2]: 1.0
x[4,4,0,2,4]: 1.0
x[5,0,3,3,1]: 1.0
x[5,3,0,3,2]: 1.0
y[0,2,1,1]: 1.0
y[0,3,2,1]: 1.0
y[0,3,3,1]: 1.0
y[1,4,1,3]: 1.0
y[2,1,1,2]: 1.0
y[2,4,2,3]: 1.0
y[3,0,3,2]: 1.0
y[3,2,2,2]: 1.0
y[4,0,1,4]: 1.0
y[4,0,2,4]: 1.0
L[1,4]: 1.0
L[2,3]: 1.0
L[2,4]: 1.0
L[3,4]: 1.0
L[4,4]: 1.0
L[5,3]: 1.0
z_GA[1,2]: 345.0
z_GA[1,3]: 278.0
z_GA[1,4]: 569.0
z_GA[2,1]: 497.0
z_GA[2,2]: 284.0
z_GA[2,3]: 100236.0
z_GA[2,4]: 569.0
z_GA[3,1]: 497.0
z_GA[3,2]: 345.0
z_GA[3,3]: 278.0
z_GA[3,4]: 569.0
z_GA[4,1]: 497.0
z_GA[4,2]: 345.0
z_GA[4,3]: 278.0
z_GA[4,4]: 569.0
z_GA[5,3]: 569.0
z_GD[1,0]: 257.0
z_GD[1,2]: 546.0
z_GD[1,3]: 315.0
z_GD[1,4]: 600.0
z_GD[2,0]: 257.0
z_GD[2,1]: 550.0
z_GD[2,2]: 472.0
z_GD[2,3]: 122.0
z_GD[2,4]: 600.0
z_GD[3,0]: 257.0
z_GD[3,1]: 550.0
z_GD[3,2]: 472.0
z_GD[3,3]: 315.0
z_GD[3,4]: 592.0
z_GD[4,0]: 257.0
z_GD[4,1]: 550.0
z_GD[4,2]: 472.0
z_GD[4,3]: 315.0
z_GD[4,4]: 592.0
z_GD[5,0]: 548.0
z_GD[5,3]: 618.0
z_BF[1,1]: 284.0
z_BF[1,2]: 278.0
z_BF[1,3]: 569.0
z_BF[2,1]: 497.0
z_BF[2,2]: 345.0
z_BF[2,3]: 639.0
z_BF[3,1]: 569.0
z_BF[3,2]: 569.0
z_BF[3,3]: 639.0
z_BF[4,1]: 619.0
z_BF[4,2]: 611.0
z_BF[4,3]: 639.0
z_BF[5,1]: 100122.0
z_BF[5,2]: 611.0
z_BF[5,3]: 639.0
z_BF[6,1]: 100122.0
z_BF[6,2]: 619.0
z_BF[6,3]: 639.0
z_BF[7,1]: 100122.0
z_BF[7,2]: 619.0
z_BF[7,3]: 639.0
z_BF[8,1]: 100122.0
z_BF[8,2]: 619.0
z_BF[8,3]: 639.0
z_BF[9,1]: 100122.0
z_BF[9,2]: 619.0
z_BF[9,3]: 100122.0
z_BF[10,1]: 100122.0
z_BF[10,2]: 619.0
z_BF[10,3]: 100122.0
z_BS[1,1]: 257.0
z_BS[1,2]: 257.0
z_BS[1,3]: 548.0
z_BS[2,1]: 472.0
z_BS[2,2]: 315.0
z_BS[2,3]: 618.0
z_BS[3,1]: 550.0
z_BS[3,2]: 546.0
z_BS[3,3]: 639.0
z_BS[4,1]: 600.0
z_BS[4,2]: 592.0
z_BS[4,3]: 639.0
z_BS[5,1]: 100122.0
z_BS[5,2]: 611.0
z_BS[5,3]: 639.0
z_BS[6,1]: 100122.0
z_BS[6,2]: 619.0
z_BS[6,3]: 639.0
z_BS[7,1]: 100122.0
z_BS[7,2]: 619.0
z_BS[7,3]: 639.0
z_BS[8,1]: 100122.0
z_BS[8,2]: 619.0
z_BS[8,3]: 639.0
z_BS[9,1]: 100122.0
z_BS[9,2]: 619.0
z_BS[9,3]: 100122.0
z_BS[10,1]: 100122.0
z_BS[10,2]: 619.0
z_BS[10,3]: 100122.0

进程已结束,退出代码0

```

## data2

```
C:\ProgramData\Anaconda3\envs\MIP\python.exe C:/Users/DKLi/OneDrive/Desktop/MIP_solver/model_solve.py
Set parameter Username
Academic license - for non-commercial use only - expires 2024-04-04
Read MPS format model from file ./data/price_1_small_c4_1.MPS
Reading time = 0.03 seconds
test1: 3978 rows, 4635 columns, 45594 nonzeros
Read MPS format model from file ./data/price_2_small_c4_1.MPS
Reading time = 0.03 seconds
test1: 3978 rows, 4635 columns, 45594 nonzeros
===================================================================
=                        以下结果为 price1:                         =
===================================================================
Set parameter TimeLimit to value 7200
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (win64)

CPU model: AMD Ryzen 9 4900HS with Radeon Graphics, instruction set [SSE2|AVX|AVX2]
Thread count: 8 physical cores, 16 logical processors, using up to 16 threads

Optimize a model with 3978 rows, 4635 columns and 45594 nonzeros
Model fingerprint: 0x284cdf85
Model has 30 quadratic objective terms
Variable types: 0 continuous, 4635 integer (4525 binary)
Coefficient statistics:
  Matrix range     [1e+00, 2e+05]
  Objective range  [1e+00, 7e+01]
  QObjective range [2e+00, 2e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 2e+05]
Presolve removed 371 rows and 2254 columns
Presolve time: 0.06s
Presolved: 3637 rows, 2411 columns, 26587 nonzeros
Variable types: 0 continuous, 2411 integer (2286 binary)

Root relaxation: objective 7.626490e+05, 3566 iterations, 0.23 seconds (0.48 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 762648.987    0  273          - 762648.987      -     -    0s
     0     0 12340.3350    0  333          - 12340.3350      -     -    1s
     0     0 12340.3342    0  340          - 12340.3342      -     -    1s
     0     0 12339.5679    0  366          - 12339.5679      -     -    1s
     0     0 12339.5679    0  369          - 12339.5679      -     -    1s
     0     0 12338.3556    0  386          - 12338.3556      -     -    2s
     0     0 12336.8779    0  367          - 12336.8779      -     -    2s
     0     0 12331.7811    0  406          - 12331.7811      -     -    3s
     0     0 12331.7811    0  393          - 12331.7811      -     -    3s
     0     2 12331.7286    0  393          - 12331.7286      -     -    4s
     7    16 10485.9862    3  277          - 11742.7726      -   415    5s
   350   384 5805.22469   51  102          - 11663.2247      -   312   10s
*  587   626             107    3839.0000000 11633.4752   203%   251   11s
H  636   674                    4023.0000000 11633.4752   189%   243   11s
...
 1201987 859707 5932.14818   64  221 5210.00000 6211.92526  19.2%  91.8 7067s
 1202833 861098 5491.41058  124  111 5210.00000 6211.90909  19.2%  91.8 7081s
 1204618 861557 5532.88220  169   54 5210.00000 6211.87692  19.2%  91.8 7088s
 1205164 862603 5481.96673   96   84 5210.00000 6211.87692  19.2%  91.8 7098s
 1206481 863021 5274.93628  112  121 5210.00000 6211.85237  19.2%  91.8 7108s
 1207036 863885 5920.57806   55  142 5210.00000 6211.83333  19.2%  91.8 7118s
 1208456 864336 5989.78682   88  203 5210.00000 6211.80851  19.2%  91.8 7129s
 1209028 866669 infeasible   96      5210.00000 6211.78049  19.2%  91.8 7148s
 1212370 867000 5512.08117   60  171 5210.00000 6211.66667  19.2%  91.8 7154s
 1212776 867434 5337.76198  104   76 5210.00000 6211.66667  19.2%  91.8 7160s
 1213358 868510 5450.73871  130   49 5210.00000 6211.66290  19.2%  91.8 7170s
 1214833 869133 5276.69082  207   90 5210.00000 6211.64130  19.2%  91.7 7177s
 1215713 869590 5248.96802   83   69 5210.00000 6211.60000  19.2%  91.7 7183s
 1216346 870778 6060.36912   99  165 5210.00000 6211.57468  19.2%  91.8 7193s
 1217946 871117 5640.82257   49   83 5210.00000 6211.53082  19.2%  91.7 7200s

Cutting planes:
  Learned: 76
  Gomory: 11
  Cover: 660
  Implied bound: 112
  Projected implied bound: 21
  Clique: 56
  MIR: 194
  StrongCG: 7
  Flow cover: 1563
  GUB cover: 2
  Inf proof: 2
  Zero half: 213
  RLT: 26
  Relax-and-lift: 34

Explored 1218382 nodes (111767532 simplex iterations) in 7200.26 seconds (7006.17 work units)
Thread count was 16 (of 16 available processors)

Solution count 10: 5210 5179 5178 ... 4823

Time limit reached
Best objective 5.210000000000e+03, best bound 6.211530818791e+03, gap 19.2232%
x[1,0,3,2,4]: 1.0
x[1,3,0,2,5]: 1.0
x[2,0,3,2,4]: 1.0
x[2,3,0,2,5]: 1.0
x[3,0,2,2,1]: 1.0
x[3,1,4,3,3]: 1.0
x[3,2,1,2,2]: 1.0
x[3,4,0,3,4]: 1.0
x[4,0,3,3,1]: 1.0
x[4,1,4,3,3]: 1.0
x[4,3,1,3,2]: 1.0
x[4,4,0,3,4]: 1.0
x[5,0,2,2,1]: 1.0
x[5,1,4,3,3]: 1.0
x[5,2,1,2,2]: 1.0
x[5,4,0,3,4]: 1.0
y[0,2,2,1]: 1.0
y[0,3,2,4]: 1.0
y[0,3,3,1]: 1.0
y[1,0,2,3]: 1.0
y[1,4,3,3]: 1.0
y[2,1,2,2]: 1.0
y[3,0,2,5]: 1.0
y[3,1,3,2]: 1.0
y[4,0,3,4]: 1.0
L[1,2]: 1.0
L[1,3]: 1.0
L[2,1]: 1.0
L[2,2]: 1.0
L[2,3]: 1.0
L[2,4]: 1.0
L[3,4]: 1.0
L[4,4]: 1.0
L[5,4]: 1.0
z_GA[1,2]: 569.0
z_GA[1,3]: 569.0
z_GA[2,1]: 569.0
z_GA[2,2]: 569.0
z_GA[2,3]: 569.0
z_GA[2,4]: 569.0
z_GA[3,1]: 276.0
z_GA[3,2]: 195.0
z_GA[3,4]: 569.0
z_GA[4,1]: 500.0
z_GA[4,3]: 185.0
z_GA[4,4]: 569.0
z_GA[5,1]: 276.0
z_GA[5,2]: 195.0
z_GA[5,4]: 569.0
z_GD[1,0]: 554.0
z_GD[1,2]: 100162.0
z_GD[1,3]: 606.0
z_GD[2,0]: 554.0
z_GD[2,1]: 100162.0
z_GD[2,3]: 606.0
z_GD[2,4]: 7141.0
z_GD[3,0]: 162.0
z_GD[3,1]: 551.0
z_GD[3,2]: 253.0
z_GD[3,4]: 600.0
z_GD[4,0]: 170.0
z_GD[4,1]: 551.0
z_GD[4,3]: 479.0
z_GD[4,4]: 600.0
z_GD[5,0]: 162.0
z_GD[5,1]: 551.0
z_GD[5,2]: 253.0
z_GD[5,4]: 600.0
z_BF[1,1]: 162.0
z_BF[1,2]: 195.0
z_BF[1,3]: 185.0
z_BF[2,1]: 162.0
z_BF[2,2]: 276.0
z_BF[2,3]: 500.0
z_BF[3,1]: 600.0
z_BF[3,2]: 295.0
z_BF[3,3]: 569.0
z_BF[4,1]: 618.0
z_BF[4,2]: 569.0
z_BF[4,3]: 618.0
z_BF[5,1]: 618.0
z_BF[5,2]: 621.0
z_BF[5,3]: 618.0
z_BF[6,1]: 618.0
z_BF[6,2]: 621.0
z_BF[6,3]: 618.0
z_BF[7,1]: 618.0
z_BF[7,2]: 100000.0
z_BF[7,3]: 100000.0
z_BF[8,1]: 618.0
z_BF[8,2]: 100000.0
z_BF[8,3]: 100000.0
z_BF[9,1]: 618.0
z_BF[9,2]: 100000.0
z_BF[9,3]: 100000.0
z_BF[10,1]: 618.0
z_BF[10,2]: 100000.0
z_BF[10,3]: 100000.0
z_BS[1,1]: 162.0
z_BS[1,2]: 162.0
z_BS[1,3]: 170.0
z_BS[2,1]: 162.0
z_BS[2,2]: 253.0
z_BS[2,3]: 479.0
z_BS[3,1]: 600.0
z_BS[3,2]: 276.0
z_BS[3,3]: 551.0
z_BS[4,1]: 618.0
z_BS[4,2]: 554.0
z_BS[4,3]: 600.0
z_BS[5,1]: 618.0
z_BS[5,2]: 606.0
z_BS[5,3]: 618.0
z_BS[6,1]: 618.0
z_BS[6,2]: 621.0
z_BS[6,3]: 618.0
z_BS[7,1]: 618.0
z_BS[7,2]: 100000.0
z_BS[7,3]: 100000.0
z_BS[8,1]: 618.0
z_BS[8,2]: 100000.0
z_BS[8,3]: 100000.0
z_BS[9,1]: 618.0
z_BS[9,2]: 100000.0
z_BS[9,3]: 100000.0
z_BS[10,1]: 618.0
z_BS[10,2]: 100000.0
z_BS[10,3]: 100000.0
===================================================================
=                        以下结果为 price2:                         =
===================================================================
Set parameter TimeLimit to value 7200
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (win64)

CPU model: AMD Ryzen 9 4900HS with Radeon Graphics, instruction set [SSE2|AVX|AVX2]
Thread count: 8 physical cores, 16 logical processors, using up to 16 threads

Optimize a model with 3978 rows, 4635 columns and 45594 nonzeros
Model fingerprint: 0x470ad5be
Model has 30 quadratic objective terms
Variable types: 0 continuous, 4635 integer (4525 binary)
Coefficient statistics:
  Matrix range     [1e+00, 2e+05]
  Objective range  [1e+00, 3e+02]
  QObjective range [2e+00, 2e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 2e+05]
Presolve removed 371 rows and 2254 columns
Presolve time: 0.12s
Presolved: 3637 rows, 2411 columns, 26587 nonzeros
Variable types: 0 continuous, 2411 integer (2286 binary)

Root relaxation: objective 7.628743e+05, 4457 iterations, 0.29 seconds (0.59 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 762874.329    0  299          - 762874.329      -     -    1s
     0     0 12985.3350    0  346          - 12985.3350      -     -    1s
     0     0 12985.3342    0  337          - 12985.3342      -     -    2s
     0     0 12984.5679    0  366          - 12984.5679      -     -    2s
     0     0 12984.5679    0  319          - 12984.5679      -     -    3s
     0     0 12983.4149    0  327          - 12983.4149      -     -    3s
     0     0 12982.1509    0  340          - 12982.1509      -     -    4s
     0     0 12960.2870    0  294          - 12960.2870      -     -    5s
     0     0 12960.2870    0  396          - 12960.2870      -     -    5s
H    0     0                    3381.0000000 12960.2870   283%     -    6s
     0     0 12395.1547    0  430 3381.00000 12395.1547   267%     -    6s
...
 529322 367574 6233.61136  123  118 5677.00000 6835.81058  20.4%   136 7190s
 530997 367930 5819.61123  125  131 5677.00000 6835.75000  20.4%   135 7197s
 531520 368242 6142.88760  133  125 5677.00000 6835.75000  20.4%   135 7200s

Cutting planes:
  Learned: 23
  Gomory: 20
  Cover: 628
  Implied bound: 102
  Projected implied bound: 86
  Clique: 59
  MIR: 288
  StrongCG: 21
  Flow cover: 1543
  GUB cover: 4
  Inf proof: 2
  Zero half: 201
  RLT: 25
  Relax-and-lift: 26

Explored 531906 nodes (71989354 simplex iterations) in 7200.24 seconds (6715.24 work units)
Thread count was 16 (of 16 available processors)

Solution count 10: 5677 5677 5643 ... 5270

Time limit reached
Best objective 5.677000000000e+03, best bound 6.835749765050e+03, gap 20.4113%
x[1,0,2,3,1]: 1.0
x[1,2,3,1,4]: 1.0
x[1,3,0,1,5]: 1.0
x[2,0,3,2,4]: 1.0
x[2,1,2,1,3]: 1.0
x[2,2,4,3,2]: 1.0
x[2,3,1,2,5]: 1.0
x[2,4,0,2,7]: 1.0
x[3,0,2,1,1]: 1.0
x[3,1,4,2,6]: 1.0
x[3,2,1,1,2]: 1.0
x[3,4,0,3,3]: 1.0
x[4,0,3,2,1]: 1.0
x[4,1,4,2,6]: 1.0
x[4,3,1,2,2]: 1.0
x[4,4,0,3,3]: 1.0
x[5,0,2,1,1]: 1.0
x[5,1,4,2,6]: 1.0
x[5,2,1,1,2]: 1.0
x[5,4,0,3,3]: 1.0
y[0,2,1,1]: 1.0
y[0,2,3,1]: 1.0
y[0,3,2,1]: 1.0
y[0,3,2,4]: 1.0
y[1,0,2,3]: 1.0
y[1,2,1,3]: 1.0
y[1,4,2,6]: 1.0
y[2,1,1,2]: 1.0
y[2,3,1,4]: 1.0
y[2,4,3,2]: 1.0
y[3,0,1,5]: 1.0
y[3,1,2,2]: 1.0
y[3,1,2,5]: 1.0
y[4,0,2,7]: 1.0
y[4,0,3,3]: 1.0
L[1,3]: 1.0
L[2,4]: 1.0
L[3,4]: 1.0
L[4,4]: 1.0
L[5,4]: 1.0
z_GA[1,2]: 557.0
z_GA[1,3]: 664.0
z_GA[2,1]: 525.0
z_GA[2,2]: 562.0
z_GA[2,3]: 474.0
z_GA[2,4]: 637.0
z_GA[3,1]: 495.0
z_GA[3,2]: 195.0
z_GA[3,4]: 569.0
z_GA[4,1]: 254.0
z_GA[4,3]: 185.0
z_GA[4,4]: 569.0
z_GA[5,1]: 495.0
z_GA[5,2]: 195.0
z_GA[5,4]: 569.0
z_GD[1,0]: 524.0
z_GD[1,2]: 631.0
z_GD[1,3]: 99985.0
z_GD[2,0]: 459.0
z_GD[2,1]: 539.0
z_GD[2,2]: 614.0
z_GD[2,3]: 504.0
z_GD[2,4]: 100144.0
z_GD[3,0]: 162.0
z_GD[3,1]: 551.0
z_GD[3,2]: 472.0
z_GD[3,4]: 649.0
z_GD[4,0]: 170.0
z_GD[4,1]: 551.0
z_GD[4,3]: 233.0
z_GD[4,4]: 649.0
z_GD[5,0]: 162.0
z_GD[5,1]: 551.0
z_GD[5,2]: 472.0
z_GD[5,4]: 649.0
z_BF[1,1]: 195.0
z_BF[1,2]: 185.0
z_BF[1,3]: 557.0
z_BF[2,1]: 495.0
z_BF[2,2]: 254.0
z_BF[2,3]: 637.0
z_BF[3,1]: 562.0
z_BF[3,2]: 273.0
z_BF[3,3]: 667.0
z_BF[4,1]: 664.0
z_BF[4,2]: 474.0
z_BF[4,3]: 667.0
z_BF[5,1]: 100000.0
z_BF[5,2]: 525.0
z_BF[5,3]: 685.0
z_BF[6,1]: 100000.0
z_BF[6,2]: 569.0
z_BF[6,3]: 685.0
z_BF[7,1]: 100000.0
z_BF[7,2]: 100162.0
z_BF[7,3]: 685.0
z_BF[8,1]: 100000.0
z_BF[8,2]: 100162.0
z_BF[8,3]: 685.0
z_BF[9,1]: 100000.0
z_BF[9,2]: 100162.0
z_BF[9,3]: 685.0
z_BF[10,1]: 100162.0
z_BF[10,2]: 100162.0
z_BF[10,3]: 685.0
z_BS[1,1]: 162.0
z_BS[1,2]: 170.0
z_BS[1,3]: 524.0
z_BS[2,1]: 472.0
z_BS[2,2]: 233.0
z_BS[2,3]: 614.0
z_BS[3,1]: 539.0
z_BS[3,2]: 254.0
z_BS[3,3]: 649.0
z_BS[4,1]: 631.0
z_BS[4,2]: 459.0
z_BS[4,3]: 667.0
z_BS[5,1]: 99985.0
z_BS[5,2]: 504.0
z_BS[5,3]: 685.0
z_BS[6,1]: 100000.0
z_BS[6,2]: 551.0
z_BS[6,3]: 685.0
z_BS[7,1]: 100000.0
z_BS[7,2]: 100144.0
z_BS[7,3]: 685.0
z_BS[8,1]: 100000.0
z_BS[8,2]: 100162.0
z_BS[8,3]: 685.0
z_BS[9,1]: 100000.0
z_BS[9,2]: 100162.0
z_BS[9,3]: 685.0
z_BS[10,1]: 100162.0
z_BS[10,2]: 100162.0
z_BS[10,3]: 685.0

进程已结束,退出代码0

```



# TS_model

## data1

### 10:44 2023/05/11 price_2

#### 参数

```
max_iterations = 8000  # 最大迭代次数
tabu_length = 15  # 禁忌列表长度
```

```
Iteration 7996, Best fitness = (6025, [[1, 0, 2, 257, 309, 1], [1, 2, 3, 388, 418, 1], [1, 3, 4, 476, 495, 1], [1, 4, 0, 518, 457, 1], [2, 0, 4, 122, 141, 1], [2, 4, 1, 181, 200, 1], [2, 1, 2, 257, 282, 1], [2, 2, 3, 388, 418, 1], [2, 3, 0, 458, 479, 1], [3, 0, 1, 146, 175, 1], [3, 1, 2, 257, 282, 1], [3, 2, 3, 388, 418, 1], [3, 3, 4, 476, 495, 1], [3, 4, 0, 518, 457, 1], [4, 0, 4, 122, 141, 1], [4, 4, 1, 181, 200, 1], [4, 1, 2, 257, 282, 1], [4, 2, 3, 373, 403, 1], [4, 3, 0, 458, 479, 1], [5, 0, 3, 507, 528, 1], [5, 3, 0, 598, 619, 1]])
Iteration 7997, Best fitness = (6025, [[1, 0, 2, 257, 309, 1], [1, 2, 3, 388, 418, 1], [1, 3, 4, 476, 495, 1], [1, 4, 0, 518, 457, 1], [2, 0, 4, 122, 141, 1], [2, 4, 1, 181, 200, 1], [2, 1, 2, 257, 282, 1], [2, 2, 3, 388, 418, 1], [2, 3, 0, 458, 479, 1], [3, 0, 1, 146, 175, 1], [3, 1, 2, 257, 282, 1], [3, 2, 3, 388, 418, 1], [3, 3, 4, 476, 495, 1], [3, 4, 0, 518, 457, 1], [4, 0, 4, 122, 141, 1], [4, 4, 1, 181, 200, 1], [4, 1, 2, 257, 282, 1], [4, 2, 3, 373, 403, 1], [4, 3, 0, 458, 479, 1], [5, 0, 3, 507, 528, 1], [5, 3, 0, 598, 619, 1]])
Iteration 7998, Best fitness = (6025, [[1, 0, 2, 257, 309, 1], [1, 2, 3, 388, 418, 1], [1, 3, 4, 476, 495, 1], [1, 4, 0, 518, 457, 1], [2, 0, 4, 122, 141, 1], [2, 4, 1, 181, 200, 1], [2, 1, 2, 257, 282, 1], [2, 2, 3, 388, 418, 1], [2, 3, 0, 458, 479, 1], [3, 0, 1, 146, 175, 1], [3, 1, 2, 257, 282, 1], [3, 2, 3, 388, 418, 1], [3, 3, 4, 476, 495, 1], [3, 4, 0, 518, 457, 1], [4, 0, 4, 122, 141, 1], [4, 4, 1, 181, 200, 1], [4, 1, 2, 257, 282, 1], [4, 2, 3, 373, 403, 1], [4, 3, 0, 458, 479, 1], [5, 0, 3, 507, 528, 1], [5, 3, 0, 598, 619, 1]])
Iteration 7999, Best fitness = (6025, [[1, 0, 2, 257, 309, 1], [1, 2, 3, 388, 418, 1], [1, 3, 4, 476, 495, 1], [1, 4, 0, 518, 457, 1], [2, 0, 4, 122, 141, 1], [2, 4, 1, 181, 200, 1], [2, 1, 2, 257, 282, 1], [2, 2, 3, 388, 418, 1], [2, 3, 0, 458, 479, 1], [3, 0, 1, 146, 175, 1], [3, 1, 2, 257, 282, 1], [3, 2, 3, 388, 418, 1], [3, 3, 4, 476, 495, 1], [3, 4, 0, 518, 457, 1], [4, 0, 4, 122, 141, 1], [4, 4, 1, 181, 200, 1], [4, 1, 2, 257, 282, 1], [4, 2, 3, 373, 403, 1], [4, 3, 0, 458, 479, 1], [5, 0, 3, 507, 528, 1], [5, 3, 0, 598, 619, 1]])
Iteration 8000, Best fitness = (6025, [[1, 0, 2, 257, 309, 1], [1, 2, 3, 388, 418, 1], [1, 3, 4, 476, 495, 1], [1, 4, 0, 518, 457, 1], [2, 0, 4, 122, 141, 1], [2, 4, 1, 181, 200, 1], [2, 1, 2, 257, 282, 1], [2, 2, 3, 388, 418, 1], [2, 3, 0, 458, 479, 1], [3, 0, 1, 146, 175, 1], [3, 1, 2, 257, 282, 1], [3, 2, 3, 388, 418, 1], [3, 3, 4, 476, 495, 1], [3, 4, 0, 518, 457, 1], [4, 0, 4, 122, 141, 1], [4, 4, 1, 181, 200, 1], [4, 1, 2, 257, 282, 1], [4, 2, 3, 373, 403, 1], [4, 3, 0, 458, 479, 1], [5, 0, 3, 507, 528, 1], [5, 3, 0, 598, 619, 1]])
Total run time: 15.47818112373352
```

### 09:37 2023/05/11 price_1

#### 参数

```
max_iterations = 8000  # 最大迭代次数
tabu_length = 15  # 禁忌列表长度
```


```
Iteration 7998, Best fitness = (5117, [[1, 0, 3, 257, 278, 1], [1, 3, 2, 315, 366, 1], [1, 2, 4, 445, 468, 1], [1, 4, 0, 503, 522, 1], [2, 0, 3, 122, 143, 1], [2, 3, 1, 218, 235, 1], [2, 1, 2, 317, 342, 1], [2, 2, 4, 445, 468, 1], [2, 4, 0, 484, 411, 1], [3, 0, 3, 146, 167, 1], [3, 3, 1, 218, 235, 1], [3, 1, 2, 317, 342, 1], [3, 2, 4, 445, 468, 1], [3, 4, 0, 503, 522, 1], [4, 0, 3, 122, 143, 1], [4, 3, 1, 218, 235, 1], [4, 1, 2, 317, 342, 1], [4, 2, 4, 428, 451, 1], [4, 4, 0, 503, 522, 1], [5, 0, 3, 522, 543, 1], [5, 3, 0, 592, 634, 1]])
Iteration 7999, Best fitness = (5117, [[1, 0, 3, 257, 278, 1], [1, 3, 2, 315, 366, 1], [1, 2, 4, 445, 468, 1], [1, 4, 0, 503, 522, 1], [2, 0, 3, 122, 143, 1], [2, 3, 1, 218, 235, 1], [2, 1, 2, 317, 342, 1], [2, 2, 4, 445, 468, 1], [2, 4, 0, 484, 411, 1], [3, 0, 3, 146, 167, 1], [3, 3, 1, 218, 235, 1], [3, 1, 2, 317, 342, 1], [3, 2, 4, 445, 468, 1], [3, 4, 0, 503, 522, 1], [4, 0, 3, 122, 143, 1], [4, 3, 1, 218, 235, 1], [4, 1, 2, 317, 342, 1], [4, 2, 4, 428, 451, 1], [4, 4, 0, 503, 522, 1], [5, 0, 3, 522, 543, 1], [5, 3, 0, 592, 634, 1]])
Iteration 8000, Best fitness = (5117, [[1, 0, 3, 257, 278, 1], [1, 3, 2, 315, 366, 1], [1, 2, 4, 445, 468, 1], [1, 4, 0, 503, 522, 1], [2, 0, 3, 122, 143, 1], [2, 3, 1, 218, 235, 1], [2, 1, 2, 317, 342, 1], [2, 2, 4, 445, 468, 1], [2, 4, 0, 484, 411, 1], [3, 0, 3, 146, 167, 1], [3, 3, 1, 218, 235, 1], [3, 1, 2, 317, 342, 1], [3, 2, 4, 445, 468, 1], [3, 4, 0, 503, 522, 1], [4, 0, 3, 122, 143, 1], [4, 3, 1, 218, 235, 1], [4, 1, 2, 317, 342, 1], [4, 2, 4, 428, 451, 1], [4, 4, 0, 503, 522, 1], [5, 0, 3, 522, 543, 1], [5, 3, 0, 592, 634, 1]])
Total run time: 15.453670501708984
```



## data2

